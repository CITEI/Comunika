<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1049px" preserveAspectRatio="none" style="width:963px;height:1049px;background:#FFFFFF;" version="1.1" viewBox="0 0 963 1049" width="963px" zoomAndPan="magnify"><defs><filter height="300%" id="f14ypgxw0qknl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="828.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="187.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="769.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="422.5" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="875.4219"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="405.7578"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="679.625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="832.2891"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="229.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="759.5" y="376.625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="472.0234"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="145.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="759.5" y="650.4922"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="900.5" y="548.2891"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="900.5" y="737.8906"/><rect fill="#90EE90" filter="url(#f14ypgxw0qknl)" height="465.7969" style="stroke:#000000;stroke-width:2.0;" width="584.5" x="365" y="338.3594"/><rect fill="#FFC0CB" height="189.6016" style="stroke:none;stroke-width:1.0;" width="584.5" x="365" y="614.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="192.5" x2="192.5" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="427" x2="427" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="599.5" x2="599.5" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="646.5" x2="646.5" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="764.5" x2="764.5" y1="88.2969" y2="965.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="905.5" x2="905.5" y1="88.2969" y2="965.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="84.9951">Client</text><ellipse cx="27.5" cy="15" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,23 L27.5,50 M14.5,31 L40.5,31 M27.5,50 L14.5,65 M27.5,50 L40.5,65 " fill="none" filter="url(#f14ypgxw0qknl)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="977.6826">Client</text><ellipse cx="27.5" cy="990.9844" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,998.9844 L27.5,1025.9844 M14.5,1006.9844 L40.5,1006.9844 M27.5,1025.9844 L14.5,1040.9844 M27.5,1025.9844 L40.5,1040.9844 " fill="none" filter="url(#f14ypgxw0qknl)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="42" x="115.5" y="84.9951">POST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="161.5" y="84.9951">game/evaluate</text><path d="M172,44 L172,68 M172,56 L189,56 " fill="none" filter="url(#f14ypgxw0qknl)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="201" cy="56" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="42" x="115.5" y="977.6826">POST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="161.5" y="977.6826">game/evaluate</text><path d="M172,984.9844 L172,1008.9844 M172,996.9844 L189,996.9844 " fill="none" filter="url(#f14ypgxw0qknl)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="201" cy="996.9844" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="375" y="84.9951">UserController</text><ellipse cx="427.5" cy="56" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="423.5,44,429.5,39,427.5,44,429.5,49,423.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="375" y="977.6826">UserController</text><ellipse cx="427.5" cy="996.9844" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="423.5,984.9844,429.5,979.9844,427.5,984.9844,429.5,989.9844,423.5,984.9844" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="580.5" y="84.9951">User</text><path d="M581.5,36 C581.5,26 599.5,26 599.5,26 C599.5,26 617.5,26 617.5,36 L617.5,62 C617.5,72 599.5,72 599.5,72 C599.5,72 581.5,72 581.5,62 L581.5,36 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M581.5,36 C581.5,46 599.5,46 599.5,46 C599.5,46 617.5,46 617.5,36 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="580.5" y="977.6826">User</text><path d="M581.5,990.9844 C581.5,980.9844 599.5,980.9844 599.5,980.9844 C599.5,980.9844 617.5,980.9844 617.5,990.9844 L617.5,1016.9844 C617.5,1026.9844 599.5,1026.9844 599.5,1026.9844 C599.5,1026.9844 581.5,1026.9844 581.5,1016.9844 L581.5,990.9844 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M581.5,990.9844 C581.5,1000.9844 599.5,1000.9844 599.5,1000.9844 C599.5,1000.9844 617.5,1000.9844 617.5,990.9844 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="630.5" y="84.9951">Box</text><path d="M628.5,36 C628.5,26 646.5,26 646.5,26 C646.5,26 664.5,26 664.5,36 L664.5,62 C664.5,72 646.5,72 646.5,72 C646.5,72 628.5,72 628.5,62 L628.5,36 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M628.5,36 C628.5,46 646.5,46 646.5,46 C646.5,46 664.5,46 664.5,36 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="630.5" y="977.6826">Box</text><path d="M628.5,990.9844 C628.5,980.9844 646.5,980.9844 646.5,980.9844 C646.5,980.9844 664.5,980.9844 664.5,990.9844 L664.5,1016.9844 C664.5,1026.9844 646.5,1026.9844 646.5,1026.9844 C646.5,1026.9844 628.5,1026.9844 628.5,1016.9844 L628.5,990.9844 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M628.5,990.9844 C628.5,1000.9844 646.5,1000.9844 646.5,1000.9844 C646.5,1000.9844 664.5,1000.9844 664.5,990.9844 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="707.5" y="84.9951">GameController</text><ellipse cx="764.5" cy="56" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="760.5,44,766.5,39,764.5,44,766.5,49,760.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="707.5" y="977.6826">GameController</text><ellipse cx="764.5" cy="996.9844" fill="#FEFECE" filter="url(#f14ypgxw0qknl)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="760.5,984.9844,766.5,979.9844,764.5,984.9844,766.5,989.9844,760.5,984.9844" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="871.5" y="84.9951">Category</text><path d="M887.5,36 C887.5,26 905.5,26 905.5,26 C905.5,26 923.5,26 923.5,36 L923.5,62 C923.5,72 905.5,72 905.5,72 C905.5,72 887.5,72 887.5,62 L887.5,36 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M887.5,36 C887.5,46 905.5,46 905.5,46 C905.5,46 923.5,46 923.5,36 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="871.5" y="977.6826">Category</text><path d="M887.5,990.9844 C887.5,980.9844 905.5,980.9844 905.5,980.9844 C905.5,980.9844 923.5,980.9844 923.5,990.9844 L923.5,1016.9844 C923.5,1026.9844 905.5,1026.9844 905.5,1026.9844 C905.5,1026.9844 887.5,1026.9844 887.5,1016.9844 L887.5,990.9844 " fill="#FEFECE" filter="url(#f14ypgxw0qknl)" style="stroke:#000000;stroke-width:1.5;"/><path d="M887.5,990.9844 C887.5,1000.9844 905.5,1000.9844 905.5,1000.9844 C905.5,1000.9844 923.5,1000.9844 923.5,990.9844 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="828.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="187.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="769.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="422.5" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594.5" y="875.4219"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="405.7578"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="679.625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="641.5" y="832.2891"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="229.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="759.5" y="376.625"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="764.5" y="472.0234"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="145.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="759.5" y="650.4922"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="900.5" y="548.2891"/><rect fill="#FFFFFF" filter="url(#f14ypgxw0qknl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="900.5" y="737.8906"/><polygon fill="#A80036" points="175.5,115.4297,185.5,119.4297,175.5,123.4297,179.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="181.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="34.5" y="114.3638">userId, boxId, answers</text><polygon fill="#A80036" points="410.5,144.5625,420.5,148.5625,410.5,152.5625,414.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="197.5" x2="416.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="204.5" y="143.4966">evaluate(userId, boxId, answers)</text><polygon fill="#A80036" points="582.5,173.6953,592.5,177.6953,582.5,181.6953,586.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="588.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="439.5" y="172.6294">getUser()</text><polygon fill="#A80036" points="443.5,202.8281,433.5,206.8281,443.5,210.8281,439.5,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="598.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="449.5" y="201.7622">user</text><polygon fill="#A80036" points="629.5,231.9609,639.5,235.9609,629.5,239.9609,633.5,235.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="635.5" y1="235.9609" y2="235.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="439.5" y="230.895">getBox()</text><polygon fill="#A80036" points="443.5,261.0938,433.5,265.0938,443.5,269.0938,439.5,265.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="645.5" y1="265.0938" y2="265.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="449.5" y="260.0278">box</text><polygon fill="#A80036" points="629.5,290.2266,639.5,294.2266,629.5,298.2266,633.5,294.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="635.5" y1="294.2266" y2="294.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="439.5" y="289.1606">calc_grade(answers)</text><polygon fill="#A80036" points="443.5,319.3594,433.5,323.3594,443.5,327.3594,439.5,323.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="645.5" y1="323.3594" y2="323.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="449.5" y="318.2935">grade</text><path d="M365,338.3594 L429,338.3594 L429,345.3594 L419,355.3594 L365,355.3594 L365,338.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="465.7969" style="stroke:#000000;stroke-width:2.0;" width="584.5" x="365" y="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="380" y="351.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="444" y="350.5698">[grade &gt;= 0.7]</text><polygon fill="#A80036" points="747.5,372.625,757.5,376.625,747.5,380.625,751.5,376.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="753.5" y1="376.625" y2="376.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="439.5" y="371.5591">getNext(box)</text><polygon fill="#A80036" points="662.5,401.7578,652.5,405.7578,662.5,409.7578,658.5,405.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="758.5" y1="405.7578" y2="405.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="668.5" y="400.6919">getCategory()</text><polygon fill="#A80036" points="747.5,430.8906,757.5,434.8906,747.5,438.8906,751.5,434.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="646.5" x2="753.5" y1="434.8906" y2="434.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="653.5" y="429.8247">category</text><line style="stroke:#A80036;stroke-width:1.0;" x1="769.5" x2="816.5" y1="459.0234" y2="459.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="816.5" x2="816.5" y1="459.0234" y2="472.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="775.5" x2="816.5" y1="472.0234" y2="472.0234"/><polygon fill="#A80036" points="785.5,468.0234,775.5,472.0234,785.5,476.0234,781.5,472.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="781.5" y="453.9575">getNext(category)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774.5" x2="816.5" y1="511.1563" y2="511.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816.5" x2="816.5" y1="511.1563" y2="524.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="769.5" x2="816.5" y1="524.1563" y2="524.1563"/><polygon fill="#A80036" points="779.5,520.1563,769.5,524.1563,779.5,528.1563,775.5,524.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="781.5" y="506.0903">category</text><polygon fill="#A80036" points="888.5,544.2891,898.5,548.2891,888.5,552.2891,892.5,548.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="769.5" x2="894.5" y1="548.2891" y2="548.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="776.5" y="543.2231">createBox()</text><polygon fill="#A80036" points="780.5,573.4219,770.5,577.4219,780.5,581.4219,776.5,577.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774.5" x2="904.5" y1="577.4219" y2="577.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="786.5" y="572.356">newBox</text><polygon fill="#A80036" points="443.5,602.5547,433.5,606.5547,443.5,610.5547,439.5,606.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="763.5" y1="606.5547" y2="606.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="449.5" y="601.4888">newBox</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="365" x2="949.5" y1="615.5547" y2="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84" x="370" y="625.7651">[grade &lt; 0.7]</text><polygon fill="#A80036" points="747.5,646.4922,757.5,650.4922,747.5,654.4922,751.5,650.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="753.5" y1="650.4922" y2="650.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="439.5" y="645.4263">getSame(box)</text><polygon fill="#A80036" points="662.5,675.625,652.5,679.625,662.5,683.625,658.5,679.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="656.5" x2="758.5" y1="679.625" y2="679.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="668.5" y="674.5591">getCategory()</text><polygon fill="#A80036" points="747.5,704.7578,757.5,708.7578,747.5,712.7578,751.5,708.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="646.5" x2="753.5" y1="708.7578" y2="708.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="653.5" y="703.6919">category</text><polygon fill="#A80036" points="888.5,733.8906,898.5,737.8906,888.5,741.8906,892.5,737.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="769.5" x2="894.5" y1="737.8906" y2="737.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="776.5" y="732.8247">createBox()</text><polygon fill="#A80036" points="780.5,763.0234,770.5,767.0234,780.5,771.0234,776.5,767.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774.5" x2="904.5" y1="767.0234" y2="767.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="786.5" y="761.9575">newBox</text><polygon fill="#A80036" points="443.5,792.1563,433.5,796.1563,443.5,800.1563,439.5,796.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="763.5" y1="796.1563" y2="796.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="449.5" y="791.0903">newBox</text><polygon fill="#A80036" points="629.5,828.2891,639.5,832.2891,629.5,836.2891,633.5,832.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="635.5" y1="832.2891" y2="832.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="439.5" y="827.2231">updateAnswers(answers)</text><polygon fill="#A80036" points="443.5,842.2891,433.5,846.2891,443.5,850.2891,439.5,846.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="645.5" y1="846.2891" y2="846.2891"/><polygon fill="#A80036" points="582.5,871.4219,592.5,875.4219,582.5,879.4219,586.5,875.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="588.5" y1="875.4219" y2="875.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="439.5" y="870.356">addToHistory(newBox)</text><polygon fill="#A80036" points="443.5,885.4219,433.5,889.4219,443.5,893.4219,439.5,889.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437.5" x2="598.5" y1="889.4219" y2="889.4219"/><polygon fill="#A80036" points="208.5,914.5547,198.5,918.5547,208.5,922.5547,204.5,918.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="202.5" x2="426.5" y1="918.5547" y2="918.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="214.5" y="913.4888">newBox</text><polygon fill="#A80036" points="38.5,943.6875,28.5,947.6875,38.5,951.6875,34.5,947.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="191.5" y1="947.6875" y2="947.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="44.5" y="942.6216">newBox</text><!--MD5=[fc44c3b67198b0cbc0940ae8628e802a]
@startuml
autoactivate on

actor Client
boundary "**POST** game/evaluate"
control UserController
database User
database Box
control GameController
database Category

Client -> "**POST** game/evaluate": userId, boxId, answers

    "**POST** game/evaluate" -> UserController: evaluate(userId, boxId, answers)

        UserController -> User: getUser()
        return user

        UserController -> Box: getBox()
        return box

        UserController -> Box: calc_grade(answers)
        return grade

        alt #lightgreen grade >= 0.7

            UserController -> GameController: getNext(box)

                GameController -> Box: getCategory()
                return category

                GameController -> GameController: getNext(category)
                return category

                GameController -> Category: createBox()
                return newBox

            return newBox

        else #pink grade < 0.7

            UserController -> GameController: getSame(box)

                GameController -> Box: getCategory()
                return category
                
                GameController -> Category: createBox()
                return newBox

            return newBox

        end

        UserController -> Box: updateAnswers(answers)
        return

        UserController -> User: addToHistory(newBox)
        return 

    return newBox

return newBox

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>