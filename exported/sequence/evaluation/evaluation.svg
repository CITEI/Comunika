<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1273px" preserveAspectRatio="none" style="width:1003px;height:1273px;background:#FFFFFF;" version="1.1" viewBox="0 0 1003 1273" width="1003px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1058.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="191" y="114.9609"/><rect fill="#FFFFFF" height="997.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="366" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="637.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="698.125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="928.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="1054.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="1098.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="236.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="297.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="1010.125"/><rect fill="#FFFFFF" height="177.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="759" y="383.125"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="764" y="421.4766"/><rect fill="#FFFFFF" height="365.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="759" y="607.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="500.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="784.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="860.7188"/><rect fill="#90EE90" height="638.3516" style="stroke:#000000;stroke-width:1.5;" width="684" x="312.5" y="342.4219"/><rect fill="#FFC0CB" height="411.8906" style="stroke:none;stroke-width:1.0;" width="684" x="312.5" y="568.8828"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="285.5" x="701" y="743.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="195.5" x2="195.5" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="370.5" x2="370.5" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="635" x2="635" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="681" x2="681" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="764" x2="764" y1="82.6094" y2="1191.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="954.5" x2="954.5" y1="82.6094" y2="1191.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="79.5332">Client</text><ellipse cx="26" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,21.5 L26,48.5 M13,29.5 L39,29.5 M26,48.5 L13,63.5 M26,48.5 L39,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="1205.0645">Client</text><ellipse cx="26" cy="1216.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,1224.6406 L26,1251.6406 M13,1232.6406 L39,1232.6406 M26,1251.6406 L13,1266.6406 M26,1251.6406 L39,1266.6406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="182.5" y="79.5332">API</text><path d="M175.5,37 L175.5,61 M175.5,49 L192.5,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="204.5" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="182.5" y="1205.0645">API</text><path d="M175.5,1212.1406 L175.5,1236.1406 M175.5,1224.1406 L192.5,1224.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="204.5" cy="1224.1406" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="322.5" y="79.5332">UserController</text><ellipse cx="371" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="367,37,373,32,371,37,373,42,367,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="322.5" y="1205.0645">UserController</text><ellipse cx="371" cy="1224.1406" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="367,1212.1406,373,1207.1406,371,1212.1406,373,1217.1406,367,1212.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="617.5" y="79.5332">User</text><path d="M617,29 C617,19 635,19 635,19 C635,19 653,19 653,29 L653,55 C653,65 635,65 635,65 C635,65 617,65 617,55 L617,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M617,29 C617,39 635,39 635,39 C635,39 653,39 653,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="617.5" y="1205.0645">User</text><path d="M617,1218.1406 C617,1208.1406 635,1208.1406 635,1208.1406 C635,1208.1406 653,1208.1406 653,1218.1406 L653,1244.1406 C653,1254.1406 635,1254.1406 635,1254.1406 C635,1254.1406 617,1254.1406 617,1244.1406 L617,1218.1406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M617,1218.1406 C617,1228.1406 635,1228.1406 635,1228.1406 C635,1228.1406 653,1228.1406 653,1218.1406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="666.5" y="79.5332">Box</text><path d="M663,29 C663,19 681,19 681,19 C681,19 699,19 699,29 L699,55 C699,65 681,65 681,65 C681,65 663,65 663,55 L663,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M663,29 C663,39 681,39 681,39 C681,39 699,39 699,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="666.5" y="1205.0645">Box</text><path d="M663,1218.1406 C663,1208.1406 681,1208.1406 681,1208.1406 C681,1208.1406 699,1208.1406 699,1218.1406 L699,1244.1406 C699,1254.1406 681,1254.1406 681,1254.1406 C681,1254.1406 663,1254.1406 663,1244.1406 L663,1218.1406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M663,1218.1406 C663,1228.1406 681,1228.1406 681,1228.1406 C681,1228.1406 699,1228.1406 699,1218.1406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="711" y="79.5332">GameController</text><ellipse cx="764" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="760,37,766,32,764,37,766,42,760,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="711" y="1205.0645">GameController</text><ellipse cx="764" cy="1224.1406" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="760,1212.1406,766,1207.1406,764,1212.1406,766,1217.1406,760,1212.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="933.5" y="79.5332">Stage</text><path d="M937,29 C937,19 955,19 955,19 C955,19 973,19 973,29 L973,55 C973,65 955,65 955,65 C955,65 937,65 937,55 L937,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M937,29 C937,39 955,39 955,39 C955,39 973,39 973,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="933.5" y="1205.0645">Stage</text><path d="M937,1218.1406 C937,1208.1406 955,1208.1406 955,1208.1406 C955,1208.1406 973,1208.1406 973,1218.1406 L973,1244.1406 C973,1254.1406 955,1254.1406 955,1254.1406 C955,1254.1406 937,1254.1406 937,1244.1406 L937,1218.1406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M937,1218.1406 C937,1228.1406 955,1228.1406 955,1228.1406 C955,1228.1406 973,1228.1406 973,1218.1406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1058.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="191" y="114.9609"/><rect fill="#FFFFFF" height="997.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="366" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="637.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="698.125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="928.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="1054.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="630" y="1098.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="236.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="297.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="676" y="1010.125"/><rect fill="#FFFFFF" height="177.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="759" y="383.125"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="764" y="421.4766"/><rect fill="#FFFFFF" height="365.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="759" y="607.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="500.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="784.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="950" y="860.7188"/><polygon fill="#181818" points="179,110.9609,189,114.9609,179,118.9609,183,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26" x2="185" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="33" y="110.1045">evaluate(userId, answers)</text><polygon fill="#181818" points="354,141.3125,364,145.3125,354,149.3125,358,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="201" x2="360" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="208" y="140.4561">evaluate(userId, answers)</text><polygon fill="#181818" points="618,171.6641,628,175.6641,618,179.6641,622,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="624" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="383" y="170.8076">getUser()</text><polygon fill="#181818" points="387,202.0156,377,206.0156,387,210.0156,383,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="634" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="393" y="201.1592">user</text><polygon fill="#181818" points="664,232.3672,674,236.3672,664,240.3672,668,236.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="670" y1="236.3672" y2="236.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="383" y="231.5107">getBox()</text><polygon fill="#181818" points="387,262.7188,377,266.7188,387,270.7188,383,266.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="680" y1="266.7188" y2="266.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="393" y="261.8623">box</text><polygon fill="#181818" points="664,293.0703,674,297.0703,664,301.0703,668,297.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="670" y1="297.0703" y2="297.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="383" y="292.2139">calc_grade(answers)</text><polygon fill="#181818" points="387,323.4219,377,327.4219,387,331.4219,383,327.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="680" y1="327.4219" y2="327.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="393" y="322.5654">grade</text><path d="M312.5,342.4219 L373.5,342.4219 L373.5,350.7734 L363.5,360.7734 L312.5,360.7734 L312.5,342.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="638.3516" style="stroke:#000000;stroke-width:1.5;" width="684" x="312.5" y="342.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="327.5" y="356.917">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="388.5" y="355.8408">[grade &gt;= 0.7]</text><polygon fill="#181818" points="747,379.125,757,383.125,747,387.125,751,383.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="753" y1="383.125" y2="383.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="383" y="378.2686">getNext(stage)</text><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="816" y1="408.4766" y2="408.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="816" x2="816" y1="408.4766" y2="421.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="775" x2="816" y1="421.4766" y2="421.4766"/><polygon fill="#181818" points="785,417.4766,775,421.4766,785,425.4766,781,421.4766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="781" y="403.6201">getNext(stage)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774" x2="816" y1="461.8281" y2="461.8281"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816" x2="816" y1="461.8281" y2="474.8281"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="769" x2="816" y1="474.8281" y2="474.8281"/><polygon fill="#181818" points="779,470.8281,769,474.8281,779,478.8281,775,474.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="781" y="456.9717">stage</text><polygon fill="#181818" points="938,496.1797,948,500.1797,938,504.1797,942,500.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="944" y1="500.1797" y2="500.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="776" y="495.3232">createBox()</text><polygon fill="#181818" points="780,526.5313,770,530.5313,780,534.5313,776,530.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774" x2="954" y1="530.5313" y2="530.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="786" y="525.6748">newBox</text><polygon fill="#181818" points="387,556.8828,377,560.8828,387,564.8828,383,560.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="763" y1="560.8828" y2="560.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="393" y="556.0264">newBox</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="312.5" x2="996.5" y1="569.8828" y2="569.8828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="67" x="317.5" y="581.3018">[grade &lt; 0.7]</text><polygon fill="#181818" points="747,603.0703,757,607.0703,747,611.0703,751,607.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="753" y1="607.0703" y2="607.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="383" y="602.2139">getAlternate(stage)</text><polygon fill="#181818" points="651,633.4219,641,637.4219,651,641.4219,647,637.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="645" x2="758" y1="637.4219" y2="637.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="657" y="632.5654">getStage()</text><polygon fill="#181818" points="747,663.7734,757,667.7734,747,671.7734,751,667.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="635" x2="753" y1="667.7734" y2="667.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="642" y="662.917">stage</text><polygon fill="#181818" points="651,694.125,641,698.125,651,702.125,647,698.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="645" x2="758" y1="698.125" y2="698.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="657" y="693.2686">isAlternate()</text><polygon fill="#181818" points="747,724.4766,757,728.4766,747,732.4766,751,728.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="635" x2="753" y1="728.4766" y2="728.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="642" y="723.6201">alternateStatus</text><path d="M701,743.4766 L762,743.4766 L762,751.8281 L752,761.8281 L701,761.8281 L701,743.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="285.5" x="701" y="743.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="716" y="757.9717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137" x="777" y="756.8955">[alternateStatus == false]</text><polygon fill="#181818" points="938,780.1797,948,784.1797,938,788.1797,942,784.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="944" y1="784.1797" y2="784.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="776" y="779.3232">getAlternate()</text><polygon fill="#181818" points="780,810.5313,770,814.5313,780,818.5313,776,814.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774" x2="954" y1="814.5313" y2="814.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="786" y="809.6748">newBox</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="701" x2="986.5" y1="823.5313" y2="823.5313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="706" y="834.9502">[alternateStatus == true]</text><polygon fill="#181818" points="938,856.7188,948,860.7188,938,864.7188,942,860.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="944" y1="860.7188" y2="860.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="776" y="855.8623">getAlternateFromSampling()</text><polygon fill="#181818" points="780,887.0703,770,891.0703,780,895.0703,776,891.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="774" x2="954" y1="891.0703" y2="891.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="786" y="886.2139">newBox</text><polygon fill="#181818" points="651,924.4219,641,928.4219,651,932.4219,647,928.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="645" x2="758" y1="928.4219" y2="928.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="657" y="923.5654">setAlternate(true)</text><polygon fill="#181818" points="747,938.4219,757,942.4219,747,946.4219,751,942.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="635" x2="753" y1="942.4219" y2="942.4219"/><polygon fill="#181818" points="387,968.7734,377,972.7734,387,976.7734,383,972.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="763" y1="972.7734" y2="972.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="393" y="967.917">newBox</text><polygon fill="#181818" points="664,1006.125,674,1010.125,664,1014.125,668,1010.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="670" y1="1010.125" y2="1010.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="383" y="1005.2686">updateAnswers(answers)</text><polygon fill="#181818" points="387,1020.125,377,1024.125,387,1028.125,383,1024.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="680" y1="1024.125" y2="1024.125"/><polygon fill="#181818" points="618,1050.4766,628,1054.4766,618,1058.4766,622,1054.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="624" y1="1054.4766" y2="1054.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="383" y="1049.6201">addToHistory(box)</text><polygon fill="#181818" points="387,1064.4766,377,1068.4766,387,1072.4766,383,1068.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="634" y1="1068.4766" y2="1068.4766"/><polygon fill="#181818" points="618,1094.8281,628,1098.8281,618,1102.8281,622,1098.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376" x2="624" y1="1098.8281" y2="1098.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="383" y="1093.9717">updateProgress(newBox, stage, module)</text><polygon fill="#181818" points="387,1108.8281,377,1112.8281,387,1116.8281,383,1112.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="381" x2="634" y1="1112.8281" y2="1112.8281"/><polygon fill="#181818" points="212,1139.1797,202,1143.1797,212,1147.1797,208,1143.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="370" y1="1143.1797" y2="1143.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="218" y="1138.3232">newBox</text><polygon fill="#181818" points="37,1169.5313,27,1173.5313,37,1177.5313,33,1173.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="31" x2="195" y1="1173.5313" y2="1173.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="43" y="1168.6748">newBox</text><!--MD5=[b036144e7d2462cdf095e329cf4486e5]
@startuml
autoactivate on

actor Client
boundary API
control UserController
database User
database Box
control GameController
database Stage

Client -> API: evaluate(userId, answers)

    API -> UserController: evaluate(userId, answers)

        UserController -> User: getUser()
        return user

        UserController -> Box: getBox()
        return box

        UserController -> Box: calc_grade(answers)
        return grade

        alt #lightgreen grade >= 0.7

            UserController -> GameController: getNext(stage)

                GameController -> GameController: getNext(stage)
                return stage

                GameController -> Stage: createBox()
                return newBox

            return newBox

        else #pink grade < 0.7

            UserController -> GameController: getAlternate(stage)

                GameController -> User: getStage()
                return stage

                GameController -> User: isAlternate()
                return alternateStatus

                alt alternateStatus == false

                    GameController -> Stage : getAlternate()
                    return newBox

                else alternateStatus == true

                    GameController -> Stage : getAlternateFromSampling()
                    return newBox

                end

                GameController -> User: setAlternate(true)
                return

            return newBox

        end

        UserController -> Box: updateAnswers(answers)
        return

        UserController -> User: addToHistory(box)
        return

        UserController -> User: updateProgress(newBox, stage, module)
        return

    return newBox

return newBox

@enduml

PlantUML version 1.2022.7(Mon Aug 22 14:01:30 BRT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>